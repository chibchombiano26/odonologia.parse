if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports="ng-currency"}angular.module("ng-currency",[]).directive("ngCurrency",["$filter","$locale",function(b,a){return{require:"ngModel",scope:{min:"=min",max:"=max",currencySymbol:"@",ngRequired:"=ngRequired",fraction:"=fraction"},link:function(k,g,j,f){if(j.ngCurrency==="false"){return}var l=(typeof k.fraction!=="undefined")?k.fraction:2;function e(m){return RegExp("\\d|\\-|\\"+m,"g")}function c(m){return RegExp("\\-{0,1}((\\"+m+")|([0-9]{1,}\\"+m+"?))&?[0-9]{0,"+l+"}","g")}function h(r){r=String(r);var n=a.NUMBER_FORMATS.DECIMAL_SEP;var m=null;var q=b("currency")("-1",d(),k.fraction);var p=q.indexOf("1");var o=q.substring(0,p);r=r.replace(o,"-");if(RegExp("^-[\\s]*$","g").test(r)){r="-0"}if(e(n).test(r)){m=r.match(e(n)).join("").match(c(n));m=m?m[0].replace(n,"."):null}return m}function d(){if(angular.isDefined(k.currencySymbol)){return k.currencySymbol}else{return a.NUMBER_FORMATS.CURRENCY_SYM}}function i(){var n=f.$formatters,m=n.length;var o=f.$$rawModelValue;while(m--){o=n[m](o)}f.$setViewValue(o);f.$render()}f.$parsers.push(function(n){var m=h(n);if(m=="."||m=="-."){m=".0"}return parseFloat(m)});g.on("blur",function(){f.$commitViewValue();i()});f.$formatters.unshift(function(m){return b("currency")(m,d(),k.fraction)});f.$validators.min=function(m){if(!k.ngRequired&&isNaN(m)){return true}if(typeof k.min!=="undefined"){return m>=parseFloat(k.min)}return true};f.$validators.max=function(m){if(!k.ngRequired&&isNaN(m)){return true}if(typeof k.max!=="undefined"){return m<=parseFloat(k.max)}return true};f.$validators.fraction=function(m){if(!!m&&isNaN(m)){return false}return true}}}}]);